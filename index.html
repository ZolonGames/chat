<!doctype html>
<html>
    <head>
        <title>ZolonGames Chat</title>
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" />
    </head>
    <body>
        <ul id="messages"></ul>
        <form action="">
            <label for="text">Name</label>
            <input name="name" id="name" autocomplete="off" />
            <label for="color">Color</label>
            <input name="color" id="color" type="color" value="#000000">
            <label for="text">Message</label>
            <input name="text" id="text" autocomplete="off" />
            <button>Send</button>
        </form>

        <script src="/socket.io/socket.io.js"></script>
        <script
            src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
            integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
            crossorigin="anonymous">
        </script>
        <script>
            $(function () {
                var socket = io();
                $('form').submit(function(e){
                    e.preventDefault();
                    socket.emit('chat message', {text: $('#text').val(), name: $('#name').val(), color: $('#color').val()});
                    $('text').val('');
                    return false
                });
                socket.on('chat message', function(msg){
                    $('#messages').append($('<li>').html("<span style='color: " + msg.color + "'><strong>" + msg.name + "</strong> says: " + msg.text + "</span>"));
                });
            });
        </script>
    </body>
</html>
